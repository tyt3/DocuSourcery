
<div class="row">
  <!-- Title -->
  <div class="col">
    <h1 class="text-start light">
      <%= document.title %>
    </h1>
  </div>
  <!-- Edit Button -->
  <% if (user && user.id ) { %>
    <% const minRole = 1; %>
    <% const userFound = project.users.some(userObj => {
      return userObj.user.toString() === user.id.toString() && userObj.role >= minRole;
    }); %>
  
    <% if (userFound) { %>
    <div class="col-auto">
      <a href="/project/<%= project.slug %>/<%= document.slug %>/edit" class="text-decoration-none">
        <span class="material-symbols-outlined">
          edit
        </span>
      </a>
    </div>
    <% } %>
<% } %>
</div>
<div>
  <%- document.description %>
</div>
<hr>
<h2 class="fs-6 text-uppercase light">
  Table of Contents
</h2>
<% if (document && Array.isArray(document.pages) && document.pages.length > 0) { %>
<ul>
  <% document.pages.forEach(function(page) { %>
  <li>
    <a href="/project/<%= project.slug %>/<%= document.slug %>/<%= page.slug %>">
      <%= page.title %>
    </a>
  </li>
  <% }); %>
</ul>
<% } %>

